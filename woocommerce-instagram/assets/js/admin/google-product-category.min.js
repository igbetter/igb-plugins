!function(s){"use strict";var e;"undefined"!=typeof wc_instagram_google_product_category_params&&((e=function(t,e){this.options=s.extend(!0,{},{},e),this.$input=s(t),this.$container=s('<div class="wc-instagram-gpc-selects-container"></div>'),this.bindEvents(),this.render()}).prototype={bindEvents:function(){var c=this;this.$container.on("change",".wc-instagram-gpc-select-wrapper select",function(){var t,e=s(this).val(),n=s(this).closest(".wc-instagram-gpc-select-wrapper");e?c.fetchSelectors({selects:"child",category_id:e},function(t){n.nextAll(".wc-instagram-gpc-select-wrapper").remove(),t.output&&c.$container.append(t.output).trigger("selects:updated")}):(n.nextAll(".wc-instagram-gpc-select-wrapper").remove(),(t=n.prev(".wc-instagram-gpc-select-wrapper")).length&&(e=t.find("select").val())),c.setValue(e)}),c.$container.on("selects:updated",function(){s(this).find("select:not(.select2-hidden-accessible)").selectWoo()})},render:function(){var e=this;this.fetchSelectors({},function(t){t.output&&e.$container.html(t.output).trigger("selects:updated")}),this.$input.after(this.$container)},fetchSelectors:function(t,e){var n={action:this.options.action,_wpnonce:this.options.nonce,category_id:this.getValue(),selects:"all"};s.ajax({type:"POST",url:ajaxurl,dataType:"json",data:s.extend(!0,{},n,t),success:function(t){t.success&&"function"==typeof e&&e(t.data)}})},getValue:function(){return this.$input.val()},setValue:function(t){this.$input.val(t)}},s.fn.GoogleProductCategory=function(t){return t=s.extend(!0,{},wc_instagram_google_product_category_params,t),this.each(function(){new e(this,t)}),this},s(function(){s(".wc-instagram-gpc-field").GoogleProductCategory()}))}(jQuery);